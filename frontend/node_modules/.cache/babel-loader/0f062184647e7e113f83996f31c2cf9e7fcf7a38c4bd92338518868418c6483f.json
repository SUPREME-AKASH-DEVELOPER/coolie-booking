{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import io from\"socket.io-client\";import axios from\"axios\";import\"./App.css\";// Make sure to create and link this CSS file\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io(\"https://coolie-booking-service.onrender.com\");const App=()=>{const[bookings,setBookings]=useState([]);const[form,setForm]=useState({passengerName:\"\",trainNumber:\"\",coachNumber:\"\",station:\"\",minutesBeforeArrival:\"\",cooliesNeeded:\"\"});useEffect(()=>{axios.get(\"https://coolie-booking-service.onrender.com/api/bookings\").then(res=>setBookings(res.data));socket.on(\"updateBookings\",newBooking=>{setBookings(prev=>[...prev,newBooking]);});return()=>socket.off(\"updateBookings\");},[]);const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();const res=await axios.post(\"https://coolie-booking-service.onrender.com/api/bookings\",form);socket.emit(\"newBooking\",res.data);setForm({passengerName:\"\",trainNumber:\"\",coachNumber:\"\",station:\"\",minutesBeforeArrival:\"\",cooliesNeeded:\"\"});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDE86 Coolie Booking Service\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"passengerName\",placeholder:\"Passenger Name\",value:form.passengerName,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"trainNumber\",placeholder:\"Train Number\",value:form.trainNumber,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"coachNumber\",placeholder:\"Coach Number\",value:form.coachNumber,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"station\",placeholder:\"Station Name\",value:form.station,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"minutesBeforeArrival\",placeholder:\"Minutes Before Arrival\",value:form.minutesBeforeArrival,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"cooliesNeeded\",placeholder:\"Coolies Needed\",value:form.cooliesNeeded,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Book Coolie \\uD83D\\uDE80\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"active-bookings\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCB Active Bookings:\"}),/*#__PURE__*/_jsx(\"div\",{children:bookings.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No active bookings\"}):/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Train No.\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Coach No.\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:bookings.map((b,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:b.passengerName}),/*#__PURE__*/_jsx(\"td\",{children:b.trainNumber}),/*#__PURE__*/_jsx(\"td\",{children:b.coachNumber})]},index))})]})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","io","axios","jsx","_jsx","jsxs","_jsxs","socket","App","bookings","setBookings","form","setForm","passengerName","trainNumber","coachNumber","station","minutesBeforeArrival","cooliesNeeded","get","then","res","data","on","newBooking","prev","off","handleChange","e","target","name","value","handleSubmit","preventDefault","post","emit","className","children","onSubmit","type","placeholder","onChange","required","length","map","b","index"],"sources":["A:/A/coolie-booking/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport axios from \"axios\";\nimport \"./App.css\"; // Make sure to create and link this CSS file\n\nconst socket = io(\"https://coolie-booking-service.onrender.com\");\n\nconst App = () => {\n  const [bookings, setBookings] = useState([]);\n  const [form, setForm] = useState({\n    passengerName: \"\",\n    trainNumber: \"\",\n    coachNumber: \"\",\n    station: \"\",\n    minutesBeforeArrival: \"\",\n    cooliesNeeded: \"\",\n  });\n\n  useEffect(() => {\n    axios.get(\"https://coolie-booking-service.onrender.com/api/bookings\").then((res) => setBookings(res.data));\n    \n    socket.on(\"updateBookings\", (newBooking) => {\n      setBookings((prev) => [...prev, newBooking]);\n    });\n\n    return () => socket.off(\"updateBookings\");\n  }, []);\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const res = await axios.post(\"https://coolie-booking-service.onrender.com/api/bookings\", form);\n    socket.emit(\"newBooking\", res.data);\n    setForm({ passengerName: \"\", trainNumber: \"\", coachNumber: \"\", station: \"\", minutesBeforeArrival: \"\", cooliesNeeded: \"\" });\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"booking-form\">\n        <h1>ðŸš† Coolie Booking Service</h1>\n        <form onSubmit={handleSubmit}>\n          <input type=\"text\" name=\"passengerName\" placeholder=\"Passenger Name\" value={form.passengerName} onChange={handleChange} required />\n          <input type=\"text\" name=\"trainNumber\" placeholder=\"Train Number\" value={form.trainNumber} onChange={handleChange} required />\n          <input type=\"text\" name=\"coachNumber\" placeholder=\"Coach Number\" value={form.coachNumber} onChange={handleChange} required />\n          <input type=\"text\" name=\"station\" placeholder=\"Station Name\" value={form.station} onChange={handleChange} required />\n          <input type=\"number\" name=\"minutesBeforeArrival\" placeholder=\"Minutes Before Arrival\" value={form.minutesBeforeArrival} onChange={handleChange} required />\n          <input type=\"number\" name=\"cooliesNeeded\" placeholder=\"Coolies Needed\" value={form.cooliesNeeded} onChange={handleChange} required />\n          <button type=\"submit\">Book Coolie ðŸš€</button>\n        </form>\n      </div>\n\n      <div className=\"active-bookings\">\n        <h2>ðŸ“‹ Active Bookings:</h2>\n        <div>\n          {bookings.length === 0 ? (\n            <p>No active bookings</p>\n          ) : (\n            <table>\n              <thead>\n                <tr>\n                  <th>Name</th>\n                  <th>Train No.</th>\n                  <th>Coach No.</th>\n                </tr>\n              </thead>\n              <tbody>\n                {bookings.map((b, index) => (\n                  <tr key={index}>\n                    <td>{b.passengerName}</td>\n                    <td>{b.trainNumber}</td>\n                    <td>{b.coachNumber}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}